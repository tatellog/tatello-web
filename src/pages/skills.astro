---
import Layout from '@/layouts/Layout.astro';
import Header from '@/components/layout/Header.astro';
import SkillsConstellation from '@/components/sections/SkillsConstellation.astro';
import PenguinWaving from '@/components/icons/PenguinWaving.astro';
import Arrow from '@/components/icons/Arrow.astro';

const pageTitle = 'My Skills | Tatello';
const pageDescription = 'Explore my technical skills in React, TypeScript, and modern web development through an interactive constellation.';
---

<Layout title={pageTitle} description={pageDescription}>
  <Header />

  <main id="main-content" class="relative min-h-screen bg-brand-dark overflow-hidden">
    <div class="absolute top-24 left-8 lg:left-12 z-20">
      <a
        href="/about"
        class="back-link inline-flex items-center gap-2 text-accent-pink hover:text-accent-pink/80 transition-colors text-sm font-sans"
      >
        <Arrow size={16} direction="left" />
        <span class="underline underline-offset-2">back</span>
      </a>
    </div>

    <div class="absolute top-32 lg:top-36 left-8 lg:left-12 z-20">
      <div class="flex items-end gap-4">
        <h1 class="skills-title font-display text-white text-5xl md:text-6xl lg:text-7xl leading-none">
          <span class="block">My</span>
          <span class="block">Skills</span>
        </h1>
        <div class="penguin-mini mb-2">
          <PenguinWaving width={80} height={60} class="w-16 md:w-20" />
        </div>
      </div>
    </div>

    <div class="constellation-container absolute inset-0">
      <SkillsConstellation />
    </div>

  </main>
</Layout>

<style>
  .back-link {
    opacity: 0;
    transform: translateX(-20px);
    animation: slideIn 0.6s ease-out 0.3s forwards;
  }

  .skills-title {
    opacity: 0;
    transform: translateY(30px);
    animation: fadeUp 0.8s ease-out 0.4s forwards;
  }

  .penguin-mini {
    opacity: 0;
    transform: translateX(-20px);
    animation: slideIn 0.6s ease-out 0.6s forwards;
  }

  @keyframes slideIn {
    to {
      opacity: 1;
      transform: translateX(0);
    }
  }

  @keyframes fadeUp {
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }

  @media (prefers-reduced-motion: reduce) {
    .back-link,
    .skills-title,
    .penguin-mini {
      animation: none;
      opacity: 1;
      transform: none;
    }
  }
</style>

<script>
  import gsap from 'gsap';

  const prefersReducedMotion = window.matchMedia('(prefers-reduced-motion: reduce)').matches;

  if (!prefersReducedMotion) {
    gsap.to('.penguin-mini', {
      y: -5,
      duration: 2,
      repeat: -1,
      yoyo: true,
      ease: 'sine.inOut',
      delay: 1,
    });
  }
</script>
