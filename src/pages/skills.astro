---
import Layout from '@/layouts/Layout.astro';
import Header from '@/components/layout/Header.astro';
import SkillsConstellation from '@/components/sections/SkillsConstellation.astro';
import PenguinLogo from '@/components/icons/PenguinLogo.astro';
import Arrow from '@/components/icons/Arrow.astro';

const pageTitle = 'My Skills | Tatello';
const pageDescription = 'Explore my technical skills in React, TypeScript, and modern web development through an interactive constellation.';
---

<Layout title={pageTitle} description={pageDescription}>
  <Header />

  <main id="main-content" class="relative w-full h-screen bg-brand-dark overflow-hidden">
    <div class="absolute top-24 left-8 lg:left-12 z-20">
      <a
        href="/about"
        class="back-link inline-flex items-center gap-2 text-accent-pink hover:text-accent-pink/80 transition-colors"
        style="font-family: 'Stacion', serif; font-weight: 400; font-size: 24px; line-height: 110%; letter-spacing: 0px;"
      >
        <Arrow size={20} direction="left" />
        <span class="underline">back</span>
      </a>
    </div>

    <div class="absolute top-32 lg:top-36 left-8 lg:left-12 z-20">
      <h1 class="skills-title text-white" style="font-family: 'Stacion', serif; font-weight: 400; font-size: clamp(48px, 8vw, 96px); line-height: 110%; letter-spacing: 0px;">
        <span class="flex items-center gap-2">
          <span>My</span>
          <span class="penguin-mini inline-flex items-center">
            <PenguinLogo width={70} height={52} class="w-14 md:w-16 lg:w-[70px]" />
          </span>
        </span>
        <span class="block">Skills</span>
      </h1>
    </div>

    <div class="constellation-container absolute inset-0 z-10">
      <SkillsConstellation />
    </div>

  </main>
</Layout>

<style>
  .back-link {
    opacity: 0;
    transform: translateX(-20px);
    animation: slideIn 0.6s ease-out 0.3s forwards;
  }

  .skills-title {
    opacity: 0;
    transform: translateY(30px);
    animation: fadeUp 0.8s ease-out 0.4s forwards;
  }

  .penguin-mini {
    opacity: 0;
    transform: translateY(10px);
    animation: fadeUp 0.6s ease-out 0.6s forwards;
  }

  @keyframes slideIn {
    to {
      opacity: 1;
      transform: translateX(0);
    }
  }

  @keyframes fadeUp {
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }

  @media (prefers-reduced-motion: reduce) {
    .back-link,
    .skills-title,
    .penguin-mini {
      animation: none;
      opacity: 1;
      transform: none;
    }
  }
</style>

<script>
  import gsap from 'gsap';

  const prefersReducedMotion = window.matchMedia('(prefers-reduced-motion: reduce)').matches;

  if (!prefersReducedMotion) {
    gsap.to('.penguin-mini', {
      y: -5,
      duration: 2,
      repeat: -1,
      yoyo: true,
      ease: 'sine.inOut',
      delay: 1,
    });
  }
</script>
