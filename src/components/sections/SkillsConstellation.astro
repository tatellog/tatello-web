---
// Decorative constellation with stars - matches Figma design
---

<div class="skills-constellation absolute inset-0 overflow-hidden">
  <svg
    class="constellation-svg w-full h-full"
    viewBox="0 0 1440 860"
    preserveAspectRatio="xMidYMid slice"
    fill="none"
    xmlns="http://www.w3.org/2000/svg"
  >
    <!-- Main constellation path (dashed) - positioned to the right -->
    <g class="constellation-group" transform="translate(350, 50)">
      <path
        class="constellation-path"
        d="M20.0142 556.947L79.7979 454.796L157.041 393.929L125.297 242.556L2.02625 188.569L236.399 23.4343L326.868 1.20459L351.205 91.7112L481.354 106.531M481.354 106.531L646.42 335.179L843.759 588.704M481.354 106.531L379.774 299.188L400.408 490.258"
        stroke="white"
        stroke-opacity="0.5"
        stroke-width="2"
        stroke-dasharray="8 8"
      />

      <!-- Gold stars at constellation junctions -->
      <g class="gold-stars">
        <!-- Top junction near (326, 1) -->
        <path class="star gold" d="M320 -5C320.5 -8 323.5 -8.8 324.8 -6.5C327.5 -2.5 330 0.5 333.2 2.5C336.4 4.5 340 5.6 344.8 6.1C347.3 6.4 348 9.5 345.8 11C342.3 13.7 339.8 16.6 338.1 20C336.4 23.4 335.5 27.2 335.1 31.8C334.8 34.3 331.7 35 330 32.8C327.3 28.8 324.8 25.8 321.6 23.8C318.4 21.8 314.8 20.7 310 20.2C307.5 19.9 306.8 16.8 309 15.3C312.5 12.6 315 9.7 316.7 6.3C318.4 2.9 319.3 -0.9 319.7 -5.5L320 -5Z" fill="#F4C348" stroke="white" stroke-width="2"/>

        <!-- Junction at (351, 91) -->
        <path class="star gold" d="M345 85C345.4 82.5 348 81.8 349.2 83.8C351.6 87.3 354 90 357 91.8C360 93.6 363.4 94.6 367.6 95C369.8 95.2 370.4 97.9 368.5 99.2C365.5 101.5 363.3 104 361.8 106.9C360.3 109.8 359.5 113 359.2 117C359 119.2 356.3 119.8 354.9 118C352.5 114.5 350.1 111.8 347.1 110C344.1 108.2 340.7 107.2 336.5 106.8C334.3 106.6 333.7 103.9 335.6 102.6C338.6 100.3 340.8 97.8 342.3 94.9C343.8 92 344.6 88.8 344.9 84.8L345 85Z" fill="#F4C348" stroke="white" stroke-width="2"/>

        <!-- Main junction at (481, 106) -->
        <path class="star gold" d="M475 100C475.4 96.8 478.5 95.9 480 98.3C483 102.6 486 106 489.6 108.2C493.2 110.4 497.3 111.6 502.4 112.1C505.1 112.4 505.8 115.7 503.5 117.3C499.8 120.1 497.2 123.2 495.4 126.7C493.6 130.2 492.6 134.1 492.2 138.9C491.9 141.6 488.8 142.3 487.1 140C484.1 135.7 481.1 132.3 477.5 130.1C473.9 127.9 469.8 126.7 464.7 126.2C462 125.9 461.3 122.6 463.6 121C467.3 118.2 469.9 115.1 471.7 111.6C473.5 108.1 474.5 104.2 474.9 99.4L475 100Z" fill="#F4C348" stroke="white" stroke-width="2"/>

        <!-- Branch junction at (379, 299) -->
        <path class="star gold" d="M373 293C373.4 290.2 376.2 289.4 377.5 291.5C380.1 295.3 382.7 298.3 385.8 300.3C388.9 302.3 392.5 303.4 397 303.9C399.4 304.1 400 306.9 398 308.4C394.7 310.8 392.3 313.5 390.6 316.6C388.9 319.7 388 323.1 387.7 327.4C387.4 329.8 384.6 330.4 383.1 328.4C380.5 324.6 377.9 321.6 374.8 319.6C371.7 317.6 368.1 316.5 363.6 316C361.2 315.8 360.6 313 362.6 311.5C365.9 309.1 368.3 306.4 370 303.3C371.7 300.2 372.6 296.8 372.9 292.5L373 293Z" fill="#F4C348" stroke="white" stroke-width="2"/>

        <!-- Near path at (157, 393) -->
        <path class="star gold" d="M151 388C151.3 385.6 153.8 384.9 155 386.7C157.3 390 159.6 392.6 162.4 394.4C165.2 396.2 168.4 397.2 172.4 397.6C174.5 397.8 175 400.2 173.2 401.5C170.3 403.6 168.2 406 166.7 408.7C165.2 411.4 164.4 414.5 164.1 418.2C163.9 420.3 161.4 420.9 160.1 419.1C157.8 415.8 155.5 413.2 152.7 411.4C149.9 409.6 146.7 408.6 142.7 408.2C140.6 408 140.1 405.6 141.9 404.3C144.8 402.2 146.9 399.8 148.4 397.1C149.9 394.4 150.7 391.3 151 387.6L151 388Z" fill="#F4C348" stroke="white" stroke-width="2"/>

        <!-- End point at (400, 490) -->
        <path class="star gold" d="M394 484C394.3 481.8 396.6 481.2 397.7 482.8C399.8 485.8 401.9 488.2 404.5 489.8C407.1 491.4 410 492.3 413.7 492.7C415.6 492.9 416.1 495.1 414.5 496.3C411.8 498.2 409.9 500.4 408.5 502.9C407.1 505.4 406.4 508.2 406.1 511.6C405.9 513.5 403.6 514 402.4 512.4C400.3 509.4 398.2 507 395.6 505.4C393 503.8 390.1 502.9 386.4 502.5C384.5 502.3 384 500.1 385.6 498.9C388.3 497 390.2 494.8 391.6 492.3C393 489.8 393.7 487 394 483.6L394 484Z" fill="#F4C348" stroke="white" stroke-width="2"/>

        <!-- Right branch at (646, 335) -->
        <path class="star gold" d="M640 329C640.4 326.2 643.2 325.4 644.5 327.5C647.1 331.3 649.7 334.3 652.8 336.3C655.9 338.3 659.5 339.4 664 339.9C666.4 340.1 667 342.9 665 344.4C661.7 346.8 659.3 349.5 657.6 352.6C655.9 355.7 655 359.1 654.7 363.4C654.4 365.8 651.6 366.4 650.1 364.4C647.5 360.6 644.9 357.6 641.8 355.6C638.7 353.6 635.1 352.5 630.6 352C628.2 351.8 627.6 349 629.6 347.5C632.9 345.1 635.3 342.4 637 339.3C638.7 336.2 639.6 332.8 639.9 328.5L640 329Z" fill="#F4C348" stroke="white" stroke-width="2"/>

        <!-- Bottom right at (843, 588) -->
        <path class="star gold" d="M837 582C837.4 579.2 840.2 578.4 841.5 580.5C844.1 584.3 846.7 587.3 849.8 589.3C852.9 591.3 856.5 592.4 861 592.9C863.4 593.1 864 595.9 862 597.4C858.7 599.8 856.3 602.5 854.6 605.6C852.9 608.7 852 612.1 851.7 616.4C851.4 618.8 848.6 619.4 847.1 617.4C844.5 613.6 841.9 610.6 838.8 608.6C835.7 606.6 832.1 605.5 827.6 605C825.2 604.8 824.6 602 826.6 600.5C829.9 598.1 832.3 595.4 834 592.3C835.7 589.2 836.6 585.8 836.9 581.5L837 582Z" fill="#F4C348" stroke="white" stroke-width="2"/>
      </g>
    </g>

    <!-- Scattered white stars across the entire viewBox -->
    <g class="white-stars">
      <!-- Top area -->
      <path class="star white" d="M255 85C255.3 85.5 255.5 86 255.5 86.5C255.5 87 255.3 87.5 255 88C254.5 87.8 254 87.7 253.5 87.7C253 87.7 252.5 87.8 252 88C252.3 87.5 252.5 87 252.5 86.5C252.5 86 252.3 85.5 252 85C252.5 85.2 253 85.3 253.5 85.3C254 85.3 254.5 85.2 255 85Z" fill="white" stroke="white" stroke-width="1.5"/>

      <path class="star white" d="M620 75C620.3 75.5 620.5 76 620.5 76.5C620.5 77 620.3 77.5 620 78C619.5 77.8 619 77.7 618.5 77.7C618 77.7 617.5 77.8 617 78C617.3 77.5 617.5 77 617.5 76.5C617.5 76 617.3 75.5 617 75C617.5 75.2 618 75.3 618.5 75.3C619 75.3 619.5 75.2 620 75Z" fill="white" stroke="white" stroke-width="1.5"/>

      <path class="star white" d="M780 115C780.3 115.5 780.5 116 780.5 116.5C780.5 117 780.3 117.5 780 118C779.5 117.8 779 117.7 778.5 117.7C778 117.7 777.5 117.8 777 118C777.3 117.5 777.5 117 777.5 116.5C777.5 116 777.3 115.5 777 115C777.5 115.2 778 115.3 778.5 115.3C779 115.3 779.5 115.2 780 115Z" fill="white" stroke="white" stroke-width="1.5"/>

      <path class="star white" d="M870 140C870.3 140.5 870.5 141 870.5 141.5C870.5 142 870.3 142.5 870 143C869.5 142.8 869 142.7 868.5 142.7C868 142.7 867.5 142.8 867 143C867.3 142.5 867.5 142 867.5 141.5C867.5 141 867.3 140.5 867 140C867.5 140.2 868 140.3 868.5 140.3C869 140.3 869.5 140.2 870 140Z" fill="white" stroke="white" stroke-width="1.5"/>

      <!-- Right side -->
      <path class="star white" d="M950 190C950.3 190.5 950.5 191 950.5 191.5C950.5 192 950.3 192.5 950 193C949.5 192.8 949 192.7 948.5 192.7C948 192.7 947.5 192.8 947 193C947.3 192.5 947.5 192 947.5 191.5C947.5 191 947.3 190.5 947 190C947.5 190.2 948 190.3 948.5 190.3C949 190.3 949.5 190.2 950 190Z" fill="white" stroke="white" stroke-width="1.5"/>

      <path class="star white" d="M1020 285C1020.3 285.5 1020.5 286 1020.5 286.5C1020.5 287 1020.3 287.5 1020 288C1019.5 287.8 1019 287.7 1018.5 287.7C1018 287.7 1017.5 287.8 1017 288C1017.3 287.5 1017.5 287 1017.5 286.5C1017.5 286 1017.3 285.5 1017 285C1017.5 285.2 1018 285.3 1018.5 285.3C1019 285.3 1019.5 285.2 1020 285Z" fill="white" stroke="white" stroke-width="1.5"/>

      <path class="star white" d="M1100 350C1100.3 350.5 1100.5 351 1100.5 351.5C1100.5 352 1100.3 352.5 1100 353C1099.5 352.8 1099 352.7 1098.5 352.7C1098 352.7 1097.5 352.8 1097 353C1097.3 352.5 1097.5 352 1097.5 351.5C1097.5 351 1097.3 350.5 1097 350C1097.5 350.2 1098 350.3 1098.5 350.3C1099 350.3 1099.5 350.2 1100 350Z" fill="white" stroke="white" stroke-width="1.5"/>

      <path class="star white" d="M1150 530C1150.3 530.5 1150.5 531 1150.5 531.5C1150.5 532 1150.3 532.5 1150 533C1149.5 532.8 1149 532.7 1148.5 532.7C1148 532.7 1147.5 532.8 1147 533C1147.3 532.5 1147.5 532 1147.5 531.5C1147.5 531 1147.3 530.5 1147 530C1147.5 530.2 1148 530.3 1148.5 530.3C1149 530.3 1149.5 530.2 1150 530Z" fill="white" stroke="white" stroke-width="1.5"/>

      <!-- Middle area -->
      <path class="star white" d="M520 230C520.3 230.5 520.5 231 520.5 231.5C520.5 232 520.3 232.5 520 233C519.5 232.8 519 232.7 518.5 232.7C518 232.7 517.5 232.8 517 233C517.3 232.5 517.5 232 517.5 231.5C517.5 231 517.3 230.5 517 230C517.5 230.2 518 230.3 518.5 230.3C519 230.3 519.5 230.2 520 230Z" fill="white" stroke="white" stroke-width="1.5"/>

      <path class="star white" d="M760 450C760.3 450.5 760.5 451 760.5 451.5C760.5 452 760.3 452.5 760 453C759.5 452.8 759 452.7 758.5 452.7C758 452.7 757.5 452.8 757 453C757.3 452.5 757.5 452 757.5 451.5C757.5 451 757.3 450.5 757 450C757.5 450.2 758 450.3 758.5 450.3C759 450.3 759.5 450.2 760 450Z" fill="white" stroke="white" stroke-width="1.5"/>

      <path class="star white" d="M830 520C830.3 520.5 830.5 521 830.5 521.5C830.5 522 830.3 522.5 830 523C829.5 522.8 829 522.7 828.5 522.7C828 522.7 827.5 522.8 827 523C827.3 522.5 827.5 522 827.5 521.5C827.5 521 827.3 520.5 827 520C827.5 520.2 828 520.3 828.5 520.3C829 520.3 829.5 520.2 830 520Z" fill="white" stroke="white" stroke-width="1.5"/>

      <!-- Left side -->
      <path class="star white" d="M100 390C100.3 390.5 100.5 391 100.5 391.5C100.5 392 100.3 392.5 100 393C99.5 392.8 99 392.7 98.5 392.7C98 392.7 97.5 392.8 97 393C97.3 392.5 97.5 392 97.5 391.5C97.5 391 97.3 390.5 97 390C97.5 390.2 98 390.3 98.5 390.3C99 390.3 99.5 390.2 100 390Z" fill="white" stroke="white" stroke-width="1.5"/>

      <path class="star white" d="M200 510C200.3 510.5 200.5 511 200.5 511.5C200.5 512 200.3 512.5 200 513C199.5 512.8 199 512.7 198.5 512.7C198 512.7 197.5 512.8 197 513C197.3 512.5 197.5 512 197.5 511.5C197.5 511 197.3 510.5 197 510C197.5 510.2 198 510.3 198.5 510.3C199 510.3 199.5 510.2 200 510Z" fill="white" stroke="white" stroke-width="1.5"/>

      <!-- Bottom area -->
      <path class="star white" d="M580 610C580.3 610.5 580.5 611 580.5 611.5C580.5 612 580.3 612.5 580 613C579.5 612.8 579 612.7 578.5 612.7C578 612.7 577.5 612.8 577 613C577.3 612.5 577.5 612 577.5 611.5C577.5 611 577.3 610.5 577 610C577.5 610.2 578 610.3 578.5 610.3C579 610.3 579.5 610.2 580 610Z" fill="white" stroke="white" stroke-width="1.5"/>

      <path class="star white" d="M100 580C100.3 580.5 100.5 581 100.5 581.5C100.5 582 100.3 582.5 100 583C99.5 582.8 99 582.7 98.5 582.7C98 582.7 97.5 582.8 97 583C97.3 582.5 97.5 582 97.5 581.5C97.5 581 97.3 580.5 97 580C97.5 580.2 98 580.3 98.5 580.3C99 580.3 99.5 580.2 100 580Z" fill="white" stroke="white" stroke-width="1.5"/>

      <path class="star white" d="M700 700C700.3 700.5 700.5 701 700.5 701.5C700.5 702 700.3 702.5 700 703C699.5 702.8 699 702.7 698.5 702.7C698 702.7 697.5 702.8 697 703C697.3 702.5 697.5 702 697.5 701.5C697.5 701 697.3 700.5 697 700C697.5 700.2 698 700.3 698.5 700.3C699 700.3 699.5 700.2 700 700Z" fill="white" stroke="white" stroke-width="1.5"/>

      <path class="star white" d="M1080 640C1080.3 640.5 1080.5 641 1080.5 641.5C1080.5 642 1080.3 642.5 1080 643C1079.5 642.8 1079 642.7 1078.5 642.7C1078 642.7 1077.5 642.8 1077 643C1077.3 642.5 1077.5 642 1077.5 641.5C1077.5 641 1077.3 640.5 1077 640C1077.5 640.2 1078 640.3 1078.5 640.3C1079 640.3 1079.5 640.2 1080 640Z" fill="white" stroke="white" stroke-width="1.5"/>
    </g>
  </svg>
</div>

<style>
  .skills-constellation {
    pointer-events: none;
  }

  .constellation-path {
    opacity: 0;
  }

  .star {
    opacity: 0;
    transform-origin: center;
    transform-box: fill-box;
  }

  @media (prefers-reduced-motion: reduce) {
    .constellation-path {
      opacity: 1;
    }
    .star {
      opacity: 1;
    }
  }
</style>

<script>
  import gsap from 'gsap';

  const prefersReducedMotion = window.matchMedia('(prefers-reduced-motion: reduce)').matches;

  if (!prefersReducedMotion) {
    const path = document.querySelector('.constellation-path') as SVGPathElement;
    const whiteStars = document.querySelectorAll('.white-stars .star');
    const goldStars = document.querySelectorAll('.gold-stars .star');

    // Draw the constellation path with dashed effect
    if (path) {
      const pathLength = path.getTotalLength();

      // Set initial state
      gsap.set(path, {
        strokeDasharray: pathLength,
        strokeDashoffset: pathLength,
        opacity: 1
      });

      // Animate the path drawing
      gsap.to(path, {
        strokeDashoffset: 0,
        duration: 2.5,
        ease: 'power2.out',
        onComplete: () => {
          // After drawing, restore the dashed pattern
          gsap.set(path, {
            strokeDasharray: '8 8'
          });
        }
      });
    }

    // Animate white stars appearing with twinkling
    gsap.fromTo(whiteStars,
      { opacity: 0, scale: 0 },
      {
        opacity: 1,
        scale: 1,
        duration: 0.4,
        stagger: { each: 0.08, from: 'random' },
        ease: 'back.out(1.7)',
        delay: 0.3
      }
    );

    // Animate gold stars appearing
    gsap.fromTo(goldStars,
      { opacity: 0, scale: 0 },
      {
        opacity: 1,
        scale: 1,
        duration: 0.5,
        stagger: { each: 0.15, from: 'random' },
        ease: 'back.out(1.7)',
        delay: 0.6
      }
    );

    // Subtle floating animation for gold stars
    goldStars.forEach((star) => {
      gsap.to(star, {
        y: -2 + Math.random() * 4,
        duration: 2.5 + Math.random() * 1.5,
        repeat: -1,
        yoyo: true,
        ease: 'sine.inOut',
        delay: 2.5 + Math.random() * 1,
      });
    });

    // Subtle twinkling for white stars
    whiteStars.forEach((star) => {
      gsap.to(star, {
        opacity: 0.4 + Math.random() * 0.6,
        duration: 1.5 + Math.random() * 1.5,
        repeat: -1,
        yoyo: true,
        ease: 'sine.inOut',
        delay: 1.5 + Math.random() * 2,
      });
    });
  }
</script>
